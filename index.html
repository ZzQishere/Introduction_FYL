<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macro to Moment - Fengyuan Liu</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Custom Styles and Font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d;
            color: #f3f4f6;
            overflow-x: hidden;
        }

        /* Three.js Canvas Container (Macro System Visualization) */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -10;
            opacity: 0.5;
        }

        /* High-contrast Title Gradient */
        .gradient-text {
            background-image: linear-gradient(90deg, #8b5cf6, #ec4899); /* Purple to Pink */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        /* Initial state for elements driven by scroll animation */
        .scroll-animated-card {
            will-change: transform, opacity; /* Optimization hint for browser */
            opacity: 0; /* JS will control opacity and transform */
        }

        /* Hover effect for project cards */
        .project-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px rgba(139, 92, 246, 0.15); /* Subtle shadow on hover */
        }

        /* Hide scrollbar on certain browsers for a cleaner look */
        body::-webkit-scrollbar {
            width: 0.5rem;
        }
        body::-webkit-scrollbar-thumb {
            background-color: #374151;
            border-radius: 9999px;
        }
    </style>
</head>
<body>

    <!-- Three.js Dynamic Background (Macro - System Layer) -->
    <div id="canvas-container"></div>

    <!-- Core Content Area (Moment - Experience Layer) -->
    <main class="min-h-screen relative z-10 p-4 sm:p-10">
        
        <!-- Header: Name, Title, and Core Concept -->
        <header class="max-w-5xl mx-auto pt-16 pb-24 text-center">
            <!-- Name (Smaller) -->
            <p class="text-lg sm:text-xl font-light text-gray-400 mb-2">
                Fengyuan Liu
            </p>
            <!-- Main Title (Very Large) -->
            <h1 class="text-7xl sm:text-[10rem] font-extrabold mb-4 leading-none tracking-tight gradient-text">
                Macro to Moment
            </h1>
            <!-- Subtitle (Small) -->
            <p class="text-lg sm:text-2xl font-medium text-white mb-10">
                AI Regulation Across Interactive Experience
            </p>
            
            <p class="text-xl font-light text-gray-500 mb-10">
                System Designer | Research-through-Design
            </p>
            <div class="flex justify-center space-x-6">
                <!-- Social Links -->
                <a href="https://www.liufengyuan.com/" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">Website</a>
                <a href="#" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">Email</a>
                <a href="#" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">LinkedIn</a>
                <a href="#" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">ArtStation</a>
            </div>
        </header>

        <!-- Projects Section - Targeted for Scroll Animation -->
        <section id="projects" class="max-w-6xl mx-auto py-20">
            <h2 class="text-5xl font-bold mb-16 text-center text-white scroll-animated-card">
                Selected Projects
            </h2>
            
            <div class="grid md:grid-cols-3 gap-10">
                
                <!-- Project 1: Emergent Pursuit (System Design) -->
                <a href="#" class="project-card scroll-animated-card bg-[#1a1a1a] rounded-xl p-8 border border-gray-700 transition-all duration-300 block hover:border-pink-500">
                    <span class="text-xs font-semibold uppercase text-pink-400 mb-2 block">System & AI Framework</span>
                    <h3 class="text-3xl font-extrabold mb-4 text-white">Emergent Pursuit</h3>
                    <p class="text-gray-400 mb-6 text-sm">
                        An interactive platform and experimental environment exploring narrative structure, player agency, and system-level regulation. Implements a Utility AI for adaptive NPC logic.
                    </p>
                    <div class="inline-flex items-center text-purple-400 font-medium">
                        View Project Details
                        <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </div>
                </a>

                <!-- Project 2: AI Macro-Regulation Framework (Research) -->
                <a href="#" class="project-card scroll-animated-card bg-[#1a1a1a] rounded-xl p-8 border border-gray-700 transition-all duration-300 block hover:border-purple-500">
                    <span class="text-xs font-semibold uppercase text-purple-400 mb-2 block">Research & Theory</span>
                    <h3 class="text-3xl font-extrabold mb-4 text-white">Macro-Regulation Framework</h3>
                    <p class="text-gray-400 mb-6 text-sm">
                        A higher-order control system designed to manage experience-level dynamics (pacing, coherence) in generative AI-driven games and XR, solving "narrative drift."
                    </p>
                    <div class="inline-flex items-center text-purple-400 font-medium">
                        Read Statement of Objectives
                        <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </div>
                </a>

                <!-- Project 3: High-Fidelity 3D Assets (Art) -->
                <a href="#" class="project-card scroll-animated-card bg-[#1a1a1a] rounded-xl p-8 border border-gray-700 transition-all duration-300 block hover:border-pink-500">
                    <span class="text-xs font-semibold uppercase text-pink-400 mb-2 block">Art & Technical Fidelity</span>
                    <h3 class="text-3xl font-extrabold mb-4 text-white">Game Art Portfolio</h3>
                    <p class="text-gray-400 mb-6 text-sm">
                        A collection of high-poly sculpted characters and hard-surface assets, demonstrating proficiency in PBR texturing and real-time rendering optimization (e.g., Cyberpunk Operative).
                    </p>
                    <div class="inline-flex items-center text-purple-400 font-medium">
                        View 3D Work
                        <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </div>
                </a>
                
            </div>
            
        </section>

        <!-- Philosophy / Call to Action (Updated Content) -->
        <!-- Removed scroll-animated-card class to make it immediately visible and static. -->
        <section id="philosophy" class="max-w-4xl mx-auto py-32">
            <h3 class="text-5xl font-extrabold mb-12 text-center gradient-text">
                Designing Interactive Systems Where Intelligence Shapes Experience
            </h3>
            
            <p class="text-2xl font-light text-gray-300 mb-8">
                Welcome to my personal space.
            </p>
            
            <div class="text-lg text-gray-400 space-y-6">
                <p>
                    I am Fengyuan Liu, an interactive experience designer working at the intersection of games, XR, and intelligent systems.
                    I am driven by a long-term question: how intelligent systems can shape meaningful, coherent, and human-centered experiences over time.
                </p>
                <p>
                    Rather than pursuing novelty through surface-level effects or isolated AI features, my work focuses on system-level design—where perception, decision-making, narrative, and interaction are coordinated toward shared experiential goals.
                </p>
                <p>
                    My background spans digital media art, virtual reality, and game systems design. Through both academic training and hands-on project leadership, I have developed interactive works that explore how agency, pacing, emotion, and emergence interact within complex systems. Across games and XR projects, I often serve as the initiator and system designer, taking ideas from early conceptual framing through implementation and public demonstration.
                </p>
                <p>
                    A central theme in my recent work is **AI macro-regulation**—a design approach that treats intelligence not as a single model or algorithm, but as a top-level coordinating structure. Instead of scripting outcomes, macro-regulation dynamically modulates global experience variables—such as narrative tension, challenge, and interaction density—allowing personalized experiences to emerge without collapsing into chaos or repetition.
                </p>
                <p>
                    This framework grew directly from iterative prototyping and observation in real projects, where model-level intelligence alone proved insufficient to sustain coherent long-term experiences.
                </p>
                <p>
                    I see experimentation as a form of inquiry. My projects function not only as finished artifacts, but as **research-through-design platforms**—used to test ideas about embodied interaction, weak emergence, and intelligence augmentation in practice. My goal is to build systems that support human cognition, emotion, and agency, rather than overwhelm or replace them.
                </p>
                <p>
                    Looking forward, I aim to continue developing AI-driven games and XR experiences that are scalable, adaptive, and experientially intentional. I am particularly interested in how intelligent systems can augment learning, reflection, and flow, and how future interaction paradigms may emerge beyond current screen-based and scripted structures.
                </p>
                <p class="pt-4 text-center font-medium text-white">
                    If you are interested in my work, ideas, or potential collaboration—especially around interactive systems, AI-driven experiences, or XR—feel free to reach out.
                </p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="max-w-6xl mx-auto pt-20 pb-10 border-t border-gray-800 text-center text-gray-600">
            <p class="text-sm">&copy; 2025 Fengyuan Liu. All Rights Reserved.</p>
        </footer>

    </main>

    <script>
        // ----------------------------------------------------
        // JAVASCRIPT: THREE.JS Dynamic Background (MACRO SYSTEM)
        // ----------------------------------------------------
        
        let scene, camera, renderer, particles, particleGeometry, particleMaterial;
        let container = document.getElementById('canvas-container');
        let width = container.clientWidth;
        let height = container.clientHeight;

        function initThree() {
            // Scene
            scene = new THREE.Scene();
            
            // Camera (Perspective Camera)
            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.z = 5;

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(width, height);
            container.appendChild(renderer.domElement);

            // Create particle system (representing macro structure and data flow)
            createParticles();

            // Handle window resize
            window.addEventListener('resize', onWindowResize);
            
            // Start the animation loop (This handles the THREE.js rendering)
            animate();
            // Start the scroll animation loop
            animateOnScroll();
        }

        function createParticles() {
            particleGeometry = new THREE.BufferGeometry();
            const particleCount = 3000; // Increased particle count for better density
            const positions = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount; i++) {
                // Random distribution in a large cube
                positions[i * 3 + 0] = (Math.random() - 0.5) * 40; // Wider range
                positions[i * 3 + 1] = (Math.random() - 0.5) * 40;
                positions[i * 3 + 2] = (Math.random() - 0.5) * 40;
            }

            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            // Particle Material
            particleMaterial = new THREE.PointsMaterial({
                color: 0x8b5cf6, // Purple
                size: 0.08,
                sizeAttenuation: true,
                transparent: true,
                blending: THREE.AdditiveBlending, 
                depthWrite: false,
                opacity: 0.8
            });

            particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);
        }

        function onWindowResize() {
            width = container.clientWidth;
            height = container.clientHeight;
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
        }

        // THREE.js Animation Loop
        const clock = new THREE.Clock();
        function animate() {
            requestAnimationFrame(animate);

            const elapsedTime = clock.getElapsedTime();

            // Subtle rotation for system movement
            particles.rotation.y = elapsedTime * 0.01;
            particles.rotation.x = Math.sin(elapsedTime * 0.1) * 0.05;

            // Movement of particles (data flow)
            const positions = particleGeometry.attributes.position.array;
            for (let i = 0; i < positions.length; i += 3) {
                // Slightly move along Z (depth) and Y (upwards flow)
                positions[i + 2] = (positions[i + 2] + 0.01) % 20; // Z-movement
                if (positions[i + 2] > 20) {
                    positions[i + 2] = -20; // Reset depth
                }
            }
            particleGeometry.attributes.position.needsUpdate = true;

            renderer.render(scene, camera);
        }
        
        // ----------------------------------------------------
        // JAVASCRIPT: Scroll-Driven Animation (MOMENT EFFECTS)
        // ----------------------------------------------------
        
        // Only target elements that still have the class for animation
        const scrollAnimatedElements = document.querySelectorAll('.scroll-animated-card');
        
        // This function will run on every frame for smooth animation tied to scroll
        function animateOnScroll() {
            const scrollY = window.scrollY;
            const viewportHeight = window.innerHeight;

            scrollAnimatedElements.forEach((element, index) => {
                const sectionTop = element.offsetTop;
                const sectionHeight = element.offsetHeight;
                
                // Animation starts when element bottom is 20% into the viewport
                const startScroll = sectionTop + sectionHeight - viewportHeight * 0.9;
                // Animation ends when element top is 20% into the viewport
                const endScroll = sectionTop - viewportHeight * 0.2; 

                // Calculate normalized scroll position (0 to 1)
                let scrollProgress = (scrollY - startScroll) / (endScroll - startScroll);
                scrollProgress = Math.max(0, Math.min(1, scrollProgress));

                // Add a delay for sequential cards (index 1, 2, 3)
                let delay = 0;
                if (element.classList.contains('project-card')) {
                    // Determine index among project cards only
                    const cardIndex = Array.from(document.querySelectorAll('.project-card')).indexOf(element);
                    delay = cardIndex * 0.15; // 15% delay per card
                }
                
                let delayedProgress = Math.max(0, Math.min(1, scrollProgress - delay));

                // Easing function (smooth acceleration/deceleration)
                const easedProgress = 1 - Math.pow(1 - delayedProgress, 3); 

                const opacity = easedProgress;
                
                // --- Apply Transformations ---
                
                // Since 'philosophy' is no longer targeted, this is the default animation for Projects H2 and Cards
                const initialX = 60; // Start 60px to the right
                const initialScale = 0.9; // Start 90% size
                
                const finalX = 0;
                const finalScale = 1;

                const x = initialX + (finalX - initialX) * easedProgress;
                const scale = initialScale + (finalScale - initialScale) * easedProgress;

                // Apply styles
                element.style.transform = `translateX(${x}px) scale(${scale})`;
                element.style.opacity = opacity;
            });

            // Request the next frame for continuous update
            requestAnimationFrame(animateOnScroll);
        }

        // Execute on window load
        window.onload = function() {
            // Initialize Three.js dynamic background and start both animation loops
            initThree();
        };

    </script>
</body>
</html>