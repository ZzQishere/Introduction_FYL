<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macro to Moment - Fengyuan Liu</title>
    <!-- 加载 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 加载 Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- 自定义样式与字体 -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d;
            color: #f3f4f6;
            overflow-x: hidden;
        }

        /* Three.js 背景容器 */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -10;
            opacity: 0.3;
        }

        /* ------------------------------------------------ */
        /* 2077 风格电子故障效果 (Cyberpunk Glitch) */
        /* ------------------------------------------------ */
        .cyber-glitch {
            position: relative;
            color: #ccff00;
            text-shadow: 0 0 8px rgba(204, 255, 0, 0.4);
            letter-spacing: -0.02em;
            display: inline-block;
        }

        /* 复制两层用于 RGB 色散溢出 */
        .cyber-glitch::before,
        .cyber-glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.8;
        }

        /* 红色/紫色溢出层 */
        .cyber-glitch::before {
            color: #ff0055;
            z-index: -1;
            animation: glitch-offset-1 2s infinite cubic-bezier(0.1, 0.5, 0.1, 1);
        }

        /* 青色/蓝色溢出层 */
        .cyber-glitch::after {
            color: #00ffff;
            z-index: -2;
            animation: glitch-offset-2 2.5s infinite cubic-bezier(0.1, 0.5, 0.1, 1);
        }

        /* 核心震动动画：模拟 2077 Logo 的边缘溢出和瞬间位移 */
        @keyframes glitch-offset-1 {
            0%, 90%, 100% { transform: translate(0); opacity: 0; }
            91% { transform: translate(-4px, 2px) skewX(10deg); opacity: 1; }
            92% { transform: translate(4px, -1px) skewX(-10deg); opacity: 1; }
            93% { transform: translate(-2px, 0); opacity: 0.5; }
            95% { transform: translate(0); opacity: 0; }
        }

        @keyframes glitch-offset-2 {
            0%, 85%, 100% { transform: translate(0); opacity: 0; }
            86% { transform: translate(3px, -2px) skewX(-15deg); opacity: 1; }
            87% { transform: translate(-5px, 1px) skewX(15deg); opacity: 1; }
            88% { transform: translate(2px, 0); opacity: 0.5; }
            90% { transform: translate(0); opacity: 0; }
        }

        /* 标题主体的轻微抖动 */
        .cyber-glitch-main {
            animation: main-shake 5s infinite;
        }

        @keyframes main-shake {
            0%, 95%, 100% { transform: translate(0); }
            96% { transform: translate(1px, -1px); }
            97% { transform: translate(-1px, 1px); }
            98% { transform: translate(0); }
        }

        /* 滚动显现动画 */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 1s cubic-bezier(0.22, 1, 0.36, 1), transform 1s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* 项目卡片 */
        .project-card:hover {
            transform: translateY(-8px);
            border-color: #ccff00;
            box-shadow: 0 10px 30px rgba(204, 255, 0, 0.15);
        }

        body::-webkit-scrollbar { width: 0.4rem; }
        body::-webkit-scrollbar-thumb { background-color: #333; border-radius: 10px; }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <main class="min-h-screen relative z-10 p-6 sm:p-12">
        
        <!-- 页眉 -->
        <header class="max-w-6xl mx-auto pt-32 pb-32 text-center">
            
            <!-- 2077 风格故障标题 -->
            <div class="inline-block mb-10">
                <h1 class="text-5xl sm:text-7xl font-black cyber-glitch cyber-glitch-main uppercase italic" data-text="MACRO TO MOMENT">
                    Macro to Moment
                </h1>
            </div>
            
            <!-- 介绍 - 淡雅灰色 -->
            <p class="max-w-3xl mx-auto text-lg sm:text-xl font-light text-gray-500 mb-6 leading-relaxed">
                Game and XR designer combining artistic design with system-level frameworks to shape next-generation AI-driven interactive experiences.
            </p>

            <!-- 姓名 - 加亮明显 -->
            <p class="text-2xl sm:text-4xl font-black text-white mb-16 tracking-[0.25em] uppercase">
                Fengyuan Liu
            </p>
            
            <!-- 导航 -->
            <div class="flex justify-center space-x-12">
                <a href="mailto:fyliu24fall@gmail.com" class="text-gray-400 hover:text-[#ccff00] transition-colors duration-300 text-sm tracking-widest uppercase font-bold">
                    Email
                </a>
                <a href="https://www.linkedin.com/in/fengyuan-liu-766b61327?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app" target="_blank" class="text-gray-400 hover:text-[#ccff00] transition-colors duration-300 text-sm tracking-widest uppercase font-bold">
                    LinkedIn
                </a>
                <a href="https://www.artstation.com/zzqishere1" target="_blank" class="text-gray-400 hover:text-[#ccff00] transition-colors duration-300 text-sm tracking-widest uppercase font-bold">
                    ArtStation
                </a>
            </div>
        </header>

        <!-- 项目展示 -->
        <section id="projects" class="max-w-6xl mx-auto py-24">
            <h2 class="text-4xl font-bold mb-20 text-center text-white reveal-on-scroll">
                Selected Projects
            </h2>
            
            <div class="grid md:grid-cols-3 gap-8">
                <a href="https://www.liufengyuan.com/" target="_blank" class="project-card reveal-on-scroll bg-[#111] rounded-sm p-10 border border-gray-800 transition-all duration-500 block">
                    <span class="text-[10px] font-bold tracking-widest uppercase text-[#ccff00] mb-4 block">System & AI Framework</span>
                    <h3 class="text-2xl font-bold mb-4 text-white">Emergent Pursuit</h3>
                    <p class="text-gray-500 mb-8 text-sm leading-relaxed">
                        An interactive platform exploring narrative structure, player agency, and system-level regulation through Utility AI.
                    </p>
                    <div class="text-xs font-bold tracking-widest uppercase text-gray-400 flex items-center">
                        Explore <span class="ml-2">→</span>
                    </div>
                </a>

                <a href="https://docs.google.com/presentation/d/e/2PACX-1vT95c1HA7PFfOjLeQ5WRzbVAydswvrpCl_zVuuXdDWO77R6TO4ZoKT4JAG6mSbdsh2wgVC70WMPhVNn/pub?start=false&loop=false&delayms=30000&slide=id.g3af27777163_0_0" target="_blank" class="project-card reveal-on-scroll bg-[#111] rounded-sm p-10 border border-gray-800 transition-all duration-500 block" style="transition-delay: 100ms;">
                    <span class="text-[10px] font-bold tracking-widest uppercase text-[#ccff00] mb-4 block">Research & Theory</span>
                    <h3 class="text-2xl font-bold mb-4 text-white">Macro-Regulation</h3>
                    <p class="text-gray-500 mb-8 text-sm leading-relaxed">
                        A higher-order control system designed to manage experience-level dynamics in generative AI-driven games and XR.
                    </p>
                    <div class="text-xs font-bold tracking-widest uppercase text-gray-400 flex items-center">
                        View Deck <span class="ml-2">→</span>
                    </div>
                </a>

                <a href="https://www.liufengyuan.com/blank" target="_blank" class="project-card reveal-on-scroll bg-[#111] rounded-sm p-10 border border-gray-800 transition-all duration-500 block" style="transition-delay: 200ms;">
                    <span class="text-[10px] font-bold tracking-widest uppercase text-[#ccff00] mb-4 block">Art & Technical Fidelity</span>
                    <h3 class="text-2xl font-bold mb-4 text-white">Game Art Portfolio</h3>
                    <p class="text-gray-500 mb-8 text-sm leading-relaxed">
                        High-poly sculpted characters and hard-surface assets optimized for real-time rendering in Unreal Engine 5.
                    </p>
                    <div class="text-xs font-bold tracking-widest uppercase text-gray-400 flex items-center">
                        View Assets <span class="ml-2">→</span>
                    </div>
                </a>
            </div>
        </section>

        <!-- 哲学理念 -->
        <section id="philosophy" class="max-w-4xl mx-auto py-32 border-t border-gray-900">
            <h3 class="text-4xl font-bold mb-16 text-center text-white reveal-on-scroll">
                Intelligence Shapes Experience
            </h3>
            
            <div class="text-lg text-gray-400 space-y-8 leading-relaxed font-light reveal-on-scroll">
                <p>
                    I am Fengyuan Liu, an interactive experience designer working at the intersection of games, XR, and intelligent systems.
                    I am driven by a long-term question: how intelligent systems can shape meaningful, coherent, and human-centered experiences over time.
                </p>
                <p>
                    My work focuses on system-level design—where perception, decision-making, narrative, and interaction are coordinated toward shared experiential goals. A central theme in my recent work is <strong class="text-white">AI macro-regulation</strong>.
                </p>
                <p>
                    I see experimentation as a form of inquiry. My projects function as <strong class="text-white">research-through-design platforms</strong>. My goal is to build systems that support human cognition and agency.
                </p>
                <p class="pt-8 text-center font-medium text-gray-300 italic">
                    Interested in collaboration? Let's connect.
                </p>
            </div>
        </section>

        <!-- 页脚 -->
        <footer class="max-w-6xl mx-auto py-12 border-t border-gray-900 text-center text-gray-700">
            <p class="text-xs tracking-widest uppercase">&copy; 2025 Fengyuan Liu. Systems Design & Interaction.</p>
        </footer>

    </main>

    <script>
        // --- THREE.JS 背景 ---
        let scene, camera, renderer, particles;
        const container = document.getElementById('canvas-container');

        function initThree() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            const count = 1500;
            const pos = new Float32Array(count * 3);
            for (let i = 0; i < count * 3; i++) pos[i] = (Math.random() - 0.5) * 15;

            const geo = new THREE.BufferGeometry();
            geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
            
            const mat = new THREE.PointsMaterial({
                color: 0xccff00,
                size: 0.02,
                transparent: true,
                opacity: 0.3
            });

            particles = new THREE.Points(geo, mat);
            scene.add(particles);

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
            
            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            particles.rotation.y += 0.0008;
            renderer.render(scene, camera);
        }

        // --- 滚动显现 ---
        function initScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));
        }

        window.onload = () => {
            initThree();
            initScrollReveal();
        };
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macro to Moment - Fengyuan Liu</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Custom Styles and Font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d;
            color: #f3f4f6;
            overflow-x: hidden;
        }

        /* Three.js Canvas Container (Macro System Visualization) */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -10;
            opacity: 0.5;
        }

        /* High-contrast Title Gradient */
        .gradient-text {
            background-image: linear-gradient(90deg, #8b5cf6, #ec4899); /* Purple to Pink */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        /* Initial state for elements driven by scroll animation */
        .scroll-animated-card {
            will-change: transform, opacity; /* Optimization hint for browser */
            opacity: 0; /* JS will control opacity and transform */
        }

        /* Hover effect for project cards */
        .project-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px rgba(139, 92, 246, 0.15); /* Subtle shadow on hover */
        }

        /* Hide scrollbar on certain browsers for a cleaner look */
        body::-webkit-scrollbar {
            width: 0.5rem;
        }
        body::-webkit-scrollbar-thumb {
            background-color: #374151;
            border-radius: 9999px;
        }
    </style>
</head>
<body>

    <!-- Three.js Dynamic Background (Macro - System Layer) -->
    <div id="canvas-container"></div>

    <!-- Core Content Area (Moment - Experience Layer) -->
    <main class="min-h-screen relative z-10 p-4 sm:p-10">
        
        <!-- Header: Name, Title, and Core Concept -->
        <header class="max-w-5xl mx-auto pt-16 pb-24 text-center">
            <!-- Name (Smaller) -->
            <p class="text-lg sm:text-xl font-light text-gray-400 mb-2">
                Fengyuan Liu
            </p>
            <!-- Main Title (Very Large) -->
            <h1 class="text-7xl sm:text-[10rem] font-extrabold mb-4 leading-none tracking-tight gradient-text">
                Macro to Moment
            </h1>
            <!-- Subtitle (Small) -->
            <p class="text-lg sm:text-2xl font-medium text-white mb-10">
                AI Regulation Across Interactive Experience
            </p>
            
            <p class="text-xl font-light text-gray-500 mb-10">
                System Designer | Research-through-Design
            </p>
            <div class="flex justify-center space-x-6">
                <!-- Social Links -->
                <a href="https://www.liufengyuan.com/" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">Website</a>
                <a href="#" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">Email</a>
                <a href="#" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">LinkedIn</a>
                <a href="#" class="text-gray-500 hover:text-purple-400 transition-colors duration-300 text-lg">ArtStation</a>
            </div>
        </header>

        <!-- Projects Section - Targeted for Scroll Animation -->
        <section id="projects" class="max-w-6xl mx-auto py-20">
            <h2 class="text-5xl font-bold mb-16 text-center text-white scroll-animated-card">
                Selected Projects
            </h2>
            
            <div class="grid md:grid-cols-3 gap-10">
                
                <!-- Project 1: Emergent Pursuit (System Design) -->
                <a href="#" class="project-card scroll-animated-card bg-[#1a1a1a] rounded-xl p-8 border border-gray-700 transition-all duration-300 block hover:border-pink-500">
                    <span class="text-xs font-semibold uppercase text-pink-400 mb-2 block">System & AI Framework</span>
                    <h3 class="text-3xl font-extrabold mb-4 text-white">Emergent Pursuit</h3>
                    <p class="text-gray-400 mb-6 text-sm">
                        An interactive platform and experimental environment exploring narrative structure, player agency, and system-level regulation. Implements a Utility AI for adaptive NPC logic.
                    </p>
                    <div class="inline-flex items-center text-purple-400 font-medium">
                        View Project Details
                        <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </div>
                </a>

                <!-- Project 2: AI Macro-Regulation Framework (Research) -->
                <a href="#" class="project-card scroll-animated-card bg-[#1a1a1a] rounded-xl p-8 border border-gray-700 transition-all duration-300 block hover:border-purple-500">
                    <span class="text-xs font-semibold uppercase text-purple-400 mb-2 block">Research & Theory</span>
                    <h3 class="text-3xl font-extrabold mb-4 text-white">Macro-Regulation Framework</h3>
                    <p class="text-gray-400 mb-6 text-sm">
                        A higher-order control system designed to manage experience-level dynamics (pacing, coherence) in generative AI-driven games and XR, solving "narrative drift."
                    </p>
                    <div class="inline-flex items-center text-purple-400 font-medium">
                        Read Statement of Objectives
                        <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </div>
                </a>

                <!-- Project 3: High-Fidelity 3D Assets (Art) -->
                <a href="#" class="project-card scroll-animated-card bg-[#1a1a1a] rounded-xl p-8 border border-gray-700 transition-all duration-300 block hover:border-pink-500">
                    <span class="text-xs font-semibold uppercase text-pink-400 mb-2 block">Art & Technical Fidelity</span>
                    <h3 class="text-3xl font-extrabold mb-4 text-white">Game Art Portfolio</h3>
                    <p class="text-gray-400 mb-6 text-sm">
                        A collection of high-poly sculpted characters and hard-surface assets, demonstrating proficiency in PBR texturing and real-time rendering optimization (e.g., Cyberpunk Operative).
                    </p>
                    <div class="inline-flex items-center text-purple-400 font-medium">
                        View 3D Work
                        <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </div>
                </a>
                
            </div>
            
        </section>

        <!-- Philosophy / Call to Action (Updated Content) -->
        <!-- Removed scroll-animated-card class to make it immediately visible and static. -->
        <section id="philosophy" class="max-w-4xl mx-auto py-32">
            <h3 class="text-5xl font-extrabold mb-12 text-center gradient-text">
                Designing Interactive Systems Where Intelligence Shapes Experience
            </h3>
            
            <p class="text-2xl font-light text-gray-300 mb-8">
                Welcome to my personal space.
            </p>
            
            <div class="text-lg text-gray-400 space-y-6">
                <p>
                    I am Fengyuan Liu, an interactive experience designer working at the intersection of games, XR, and intelligent systems.
                    I am driven by a long-term question: how intelligent systems can shape meaningful, coherent, and human-centered experiences over time.
                </p>
                <p>
                    Rather than pursuing novelty through surface-level effects or isolated AI features, my work focuses on system-level design—where perception, decision-making, narrative, and interaction are coordinated toward shared experiential goals.
                </p>
                <p>
                    My background spans digital media art, virtual reality, and game systems design. Through both academic training and hands-on project leadership, I have developed interactive works that explore how agency, pacing, emotion, and emergence interact within complex systems. Across games and XR projects, I often serve as the initiator and system designer, taking ideas from early conceptual framing through implementation and public demonstration.
                </p>
                <p>
                    A central theme in my recent work is **AI macro-regulation**—a design approach that treats intelligence not as a single model or algorithm, but as a top-level coordinating structure. Instead of scripting outcomes, macro-regulation dynamically modulates global experience variables—such as narrative tension, challenge, and interaction density—allowing personalized experiences to emerge without collapsing into chaos or repetition.
                </p>
                <p>
                    This framework grew directly from iterative prototyping and observation in real projects, where model-level intelligence alone proved insufficient to sustain coherent long-term experiences.
                </p>
                <p>
                    I see experimentation as a form of inquiry. My projects function not only as finished artifacts, but as **research-through-design platforms**—used to test ideas about embodied interaction, weak emergence, and intelligence augmentation in practice. My goal is to build systems that support human cognition, emotion, and agency, rather than overwhelm or replace them.
                </p>
                <p>
                    Looking forward, I aim to continue developing AI-driven games and XR experiences that are scalable, adaptive, and experientially intentional. I am particularly interested in how intelligent systems can augment learning, reflection, and flow, and how future interaction paradigms may emerge beyond current screen-based and scripted structures.
                </p>
                <p class="pt-4 text-center font-medium text-white">
                    If you are interested in my work, ideas, or potential collaboration—especially around interactive systems, AI-driven experiences, or XR—feel free to reach out.
                </p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="max-w-6xl mx-auto pt-20 pb-10 border-t border-gray-800 text-center text-gray-600">
            <p class="text-sm">&copy; 2025 Fengyuan Liu. All Rights Reserved.</p>
        </footer>

    </main>

    <script>
        // ----------------------------------------------------
        // JAVASCRIPT: THREE.JS Dynamic Background (MACRO SYSTEM)
        // ----------------------------------------------------
        
        let scene, camera, renderer, particles, particleGeometry, particleMaterial;
        let container = document.getElementById('canvas-container');
        let width = container.clientWidth;
        let height = container.clientHeight;

        function initThree() {
            // Scene
            scene = new THREE.Scene();
            
            // Camera (Perspective Camera)
            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.z = 5;

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(width, height);
            container.appendChild(renderer.domElement);

            // Create particle system (representing macro structure and data flow)
            createParticles();

            // Handle window resize
            window.addEventListener('resize', onWindowResize);
            
            // Start the animation loop (This handles the THREE.js rendering)
            animate();
            // Start the scroll animation loop
            animateOnScroll();
        }

        function createParticles() {
            particleGeometry = new THREE.BufferGeometry();
            const particleCount = 3000; // Increased particle count for better density
            const positions = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount; i++) {
                // Random distribution in a large cube
                positions[i * 3 + 0] = (Math.random() - 0.5) * 40; // Wider range
                positions[i * 3 + 1] = (Math.random() - 0.5) * 40;
                positions[i * 3 + 2] = (Math.random() - 0.5) * 40;
            }

            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            // Particle Material
            particleMaterial = new THREE.PointsMaterial({
                color: 0x8b5cf6, // Purple
                size: 0.08,
                sizeAttenuation: true,
                transparent: true,
                blending: THREE.AdditiveBlending, 
                depthWrite: false,
                opacity: 0.8
            });

            particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);
        }

        function onWindowResize() {
            width = container.clientWidth;
            height = container.clientHeight;
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
        }

        // THREE.js Animation Loop
        const clock = new THREE.Clock();
        function animate() {
            requestAnimationFrame(animate);

            const elapsedTime = clock.getElapsedTime();

            // Subtle rotation for system movement
            particles.rotation.y = elapsedTime * 0.01;
            particles.rotation.x = Math.sin(elapsedTime * 0.1) * 0.05;

            // Movement of particles (data flow)
            const positions = particleGeometry.attributes.position.array;
            for (let i = 0; i < positions.length; i += 3) {
                // Slightly move along Z (depth) and Y (upwards flow)
                positions[i + 2] = (positions[i + 2] + 0.01) % 20; // Z-movement
                if (positions[i + 2] > 20) {
                    positions[i + 2] = -20; // Reset depth
                }
            }
            particleGeometry.attributes.position.needsUpdate = true;

            renderer.render(scene, camera);
        }
        
        // ----------------------------------------------------
        // JAVASCRIPT: Scroll-Driven Animation (MOMENT EFFECTS)
        // ----------------------------------------------------
        
        // Only target elements that still have the class for animation
        const scrollAnimatedElements = document.querySelectorAll('.scroll-animated-card');
        
        // This function will run on every frame for smooth animation tied to scroll
        function animateOnScroll() {
            const scrollY = window.scrollY;
            const viewportHeight = window.innerHeight;

            scrollAnimatedElements.forEach((element, index) => {
                const sectionTop = element.offsetTop;
                const sectionHeight = element.offsetHeight;
                
                // Animation starts when element bottom is 20% into the viewport
                const startScroll = sectionTop + sectionHeight - viewportHeight * 0.9;
                // Animation ends when element top is 20% into the viewport
                const endScroll = sectionTop - viewportHeight * 0.2; 

                // Calculate normalized scroll position (0 to 1)
                let scrollProgress = (scrollY - startScroll) / (endScroll - startScroll);
                scrollProgress = Math.max(0, Math.min(1, scrollProgress));

                // Add a delay for sequential cards (index 1, 2, 3)
                let delay = 0;
                if (element.classList.contains('project-card')) {
                    // Determine index among project cards only
                    const cardIndex = Array.from(document.querySelectorAll('.project-card')).indexOf(element);
                    delay = cardIndex * 0.15; // 15% delay per card
                }
                
                let delayedProgress = Math.max(0, Math.min(1, scrollProgress - delay));

                // Easing function (smooth acceleration/deceleration)
                const easedProgress = 1 - Math.pow(1 - delayedProgress, 3); 

                const opacity = easedProgress;
                
                // --- Apply Transformations ---
                
                // Since 'philosophy' is no longer targeted, this is the default animation for Projects H2 and Cards
                const initialX = 60; // Start 60px to the right
                const initialScale = 0.9; // Start 90% size
                
                const finalX = 0;
                const finalScale = 1;

                const x = initialX + (finalX - initialX) * easedProgress;
                const scale = initialScale + (finalScale - initialScale) * easedProgress;

                // Apply styles
                element.style.transform = `translateX(${x}px) scale(${scale})`;
                element.style.opacity = opacity;
            });

            // Request the next frame for continuous update
            requestAnimationFrame(animateOnScroll);
        }

        // Execute on window load
        window.onload = function() {
            // Initialize Three.js dynamic background and start both animation loops
            initThree();
        };

    </script>
</body>

</html>
